# 게임 서버 개발자 준비하기
by 최홍배 멘토
---
### 게임 서버
---
한국 기준 현재 기준 pc to moblie (모바일 플랫폼), 온라인, F2P의 특징이 있다.<br/>

온라인 게임 서버의 os 플랫폼
- Windows : 한국에서 가장 많이 사용 중
- Linux : 모바일 플랫폼으로 넘어오면서, 점점 증가하는 추세

장단점<br/>
windows : <br/>
\+ 가장 익숙함<br/>
\+ 타 os에 비해 개발환경이 우수<br/>
\+ 개발자 구인이 타 os대비 쉽다.<br/>
\- 운용 해야 될 os 수가 늘어나면 비용 증가<br/>
\- os 최적화에 어려움<br/>

- 온라인 보드게임<br/>
저성능, 소규모, 기능별 분리 없이 하나로 함. <br/>c/s방식 통신.<br/>
기본틀은 비슷하고 게임 룰만 다른 경우가 많음. 따라서 프레임 워크식 서버 개발이 좋다.<br/>
개발 툴, 프레임 워크가 갖추어지면 한명이 많은 일을 할 수 있다.

- 캐쥬얼게임
보드게임에 비해 게임의 규모가 더 크다. <br/>액션성이 높은 게임이 많음.<br/>
게임 플레이에선 주로 p2p방식, 그 외에선 c/s방식.(p2p에선 udp, c/s에선 tcp)

- mmorpg
게임의 규모가 크고, 그에따른 개발 인원도 많다.<br/>
client/server방식의 tcp 프로토콜 사용<br/>
많은 기능과 높은 성능을 필요하끼때문에, 서버가 분산된다.<br/>
3d환경에서 지형 처리 및 npc의 길 찾기가 중요해짐/

- 모바일 게임
비 실시간 토칫ㄴ.
웹서버 기반.오픈소스, stateless
실시간 보다 개발이 용이, 컨텐츠에 집중 가능
스케일 아웃이 쉽다. 모바일 특성 상 순간 접속자 수가 pc에 비해 훨씬 많다.

모바일 게임 - mo + 게임 컨텐츠가 클라이언트에<br/>
실시간 통신<br/>
게임 로직이 클라이언트에서 동작<br/>
서버는 네트워크 패킷 중계와 중요한 요소 (매칭, 아이템 사용, 결과 저장 등)만 구현한다.

데디케이트 서버
- 실시간 통신<br/>
- 게임 로직이 서버/클라이언트에서 동작<br/>
- 하나의 프로그램으로 서버.클라이어느를 만든다.<br/>
- 서브는 그래픽 출력이 없는 클라이언트로 동작<br/>
- 게임 로직이 서버에 있어서 보안에 강함.<br/>
- c/s방식의 게임 서버보다 고 퀄리티 액션 게임을 만들 수 있다.<br/>
- 해외의 네트워크 대전 액션 게임은 대부분 이 방식을 사용한다.<br/>
- 서버 머신 당 접속자 수가 적다. 머신 비용 증가.

온라인 게임서버 개발언어와 db<br/>
c++ mmorpg c#, java, php, golang, node.js(클라이언트에서 언리얼이나 유니티를 많이 사용해서, 게임 개발에선 굳이 사용하지 않는 경우가 많다고 한다.)

db<br/>
mysql(대부분 사용), ms sql(비용이 크다 보니 많이 사용하지 않는다), redis(대부분 사용), monogoDb, counchDB

스케일 아웃 - 소켓서버 방식<br/>
```
common db
 |
login server - messenger server - game server- npc serveer, game db
```
<br/>(mmorpg의 예. 부하 분산하는 단위.)

스케일 아웃 - 웹서버
서버 부하를 줄이기 용이함.

### 툴 제작 및 데이터의 분리
---
툴 제작<br/>
빠른 개발, 편한 개발, 실수 방지에 도움이 된다.<br/>
툴 개발에는 실제 만들 게임만큼 제대로 된 요구분석이 필요하다.<br/>
서버 파트에는 서버관리 db 조작 툴 등이 필요하다.

데이터의 분리<br/>
게임에서 사용하는 데이터를 프로그램과 분리한다.<br/>
서버의 경우 db에 게임에서 사용할 데이터를 저장 후 사용하고, 클라이언트는 db에서 필요한 데이처만 파일로 저장 후 사용한다.<br/>
게임의 유연성이 높아지며 비 프로그래머의 참여도가 높아진다.<br/>
데이터의 잘못된 입력에 따른 부작용을 조심해야 한다.

게임 개발 흐름<br/>
서버 os 플랫폼 선정 -> db 선정 -> 네트웍 라이브러리 제작/구입 -> 서버 구조 설계<br/>
// 만들 게임에 대한 전체 계획 잡는 단계(리드 프로그래머)<br/>

기획 및 클라이언트와 합의 (이 단계에서 적극적인 소통이 필요함. 게임 많이 해볼수록 유리) -> 구현 구상 및 패킷 정의 -> 구현 -> 클라이언트와 테스트 -> 기획 및 qa에 통보<br/>
/// 게임을 각 기능별 구현 단계<br/>
아이디어는 기획, 실 개발은 프로그래머가 하기 때문에, 중간중간 지속적으로 소통하는게 중요하다.

테스트<br/>
매우 중요<br/>
qa에서 하기도 하지만, 자체 테스트도 해야함.<br/>
작업의 30~50%는 테스트를 통해서 소비된다.<br/>
중요하지만 어렵고 아주 지루하다.<br/>
테스트는 클라이언트와 서버의 협력이 절대적으로 필요<br/>
원활한 테스트를 하기 위해서는 사전에 어떻게 하면 테스트를 편하게 더 빨리 끝낼 수 있을까 생각을 하고 준비를 해야한다<br/>
가능하면 cheat기능(gm기능)을 사전에 만들어 테스트에서 사용한다. (특정 기능 테스트에 용이하다.)<br/>
- 각종 스텟 변경, 위치 이동, 서버의 특정 유저 정보 보기, 파티 정보 보기. <br/>text cmd도 좋지만, 간단한 gui를 제공하면 더 좋다.<br/>
cheat기능 사용시 side effect 주의. <br/>ex) 주위 다른 클라이언트에 통보 해 주지 않으면. 서로 간 정보가 다르게 나와서 버그로 오인도 가능하다.

게임서버 개발자 공부 방법

linux가 더 익숙할 수 있지만, 게임 개발은 윈도우에 익숙해야 한다.

한국 it업계에서 web쪽 서버는 대부분 linux, 게임은 windows.

네트워크 공부 필수.<br/>
- 모두의 네트워크
- 성공과 실패를 결정하는 1%의 네트워크 원리

운영체제<br/>
- 윈도우즈 시스템 프로르래밍
- operating system concepts

db<br/>
- 모두의 sql
- 이것이 mysql이다

게임 서버 프로그래밍 교과서

게임서버 만들어 보기<br/>

socket 게임서버<br/>
- 실시간 통신 게임 컨텐츠
webapi 게임서버
- 비 실시간 통신 게임 컨텐츠<br/>
- c#, asp.net core<br/>
- php<br/>
- java (jsp, spring)
- Node.js

신입의 경우는 다른 언어를 했다고 해서 크게 문제가 되지 않는다.

만들어 보면 좋을 기능<br/>
계정 생성, 로그인, 유저 게임 데이터 로딩, 스테이지 진행, 메일 받기, 출석부, 랭킹

애니퐁 게임서버, 로켓몬고 게임서버 만들어보기

socekt 게임서버<br/>
- c++ (IOCP)
- c#
- 게임 서버 프로그래밍 입문 (ebook)
- c#으로 온라인 게임 서버 만들기 (ebook)

서버를 만들면 동작을 확인하기 위해서 클라이언트가 필요. 즉 프로그램 2개나 만ㄷ르어야함.<br/>
클라이언트 개발자에게도 쉽지 않은 일 이기 때문에, 너무 큰 규모로 목표를 잡으면 안된다. 한번 만들어 놓은것을 개선시킬것

채팅 서버에 게임 컨텐츠를 구현한다. <br/>ex) 오목 게임을 만든다. (기획 필요 없음, 핵심 로직은 구현 해 볼 기회가 된다.)<br/>
그 다음, mo 방식의 게임 서버 만들어 보기. (동기화 신경써볼것)

항상 그렇진 않지만, 대체로 회사 규모가 클수록 안정성, 복지 업무 문화가 좋기 때문에, 신입에게는 큰 회사가 유리하다.<br/>
특히 신입은 최소 만 1년 경력을 잘 채워야 하기 때문에, 큰 회사로 가는 것이 유리하다.

인턴 해보면 좋음. 매년 5월쯤<br/>
신입 공채 노려볼것.(9 ~ 10월)<br/>
채용연계 인턴쉽
- 지원자 입장에선 공채보단 채용 가능성이 높지만, 정말 될 진 알 수 없다.
- 회사 입장에선 회사에 맞지 앟는 사람들은 쉽게 정리 가능.
생각보다 회사에 더 유리한 제도.

취업에 꼭 필요한것<br/>
- 게임 관련 포토폴리오 - 어떤 기술을 왜 썼는지?<br/>
 당연히 게임 관련 포토폴리오. 아니어도 인정해 주는 경우도 있긴 하다.

- 자소서에 게임을 좋아하는 것과, 왜 게임 서버 개발자가 되기 원하는지에 대해 설명이 필요

- 필기 시험 준비<br/>
자료구조, 알고리즘 코딩 시험이 1차에서 중요한 곳도 있고, 아닌 곳도 있다.

- 기술 면접 준비. <br/>os, db network, 프로그래밍 언어

### 게임 회사
it 회사이지만 엔터테인먼트 회사이기도 하다.
기술력이 중요하지만 전부는 아님.
재미, 트렌드, 운도 중요하다.

업무 분위기는 자유롭다.

팀에 따라 개발 문화가 다른 편.

프로젝트 드랍
	규모가 큰 게임 프로젝트 일 수록 상업적 성공이 약하면 중간에 중료한다.
	10년을 일해도 한번도 오픈한 게임이 없는 개발자도 꽤 많다.

게임의 상업적 성공은 아주 어렵다. 엔터테인먼트 업계의 특성

완전하게 승자 독식.

---
### qna

redis : 실시간으로 저장 할 필요 없는 정보들을 위해 사용한다. 임시 저장 용도.

컴공 학부 과정 정도라도 잘 준비할것. db에서 인덱싱 잘 공부해보기.

php : 학습 곡선이 낮다. 무중단 패치에 용이함. c#, java는 프로그램을 중단시키고 다시 실행해야 한다.

윈도 기반인 곳이 많아, docker는 많이 사용하지 않음.

스케일 아웃은 공부해아 할 개념이지만, 신입이 준비해야 할 우선 사항은 아님. (구현이 너무 어렵다)

클라이언트는 네트워크 개념정도만 알면 된다.